/*****************************
 setidle
 v0.3.1
 MIT license
 *****************************/

!function(e){function t(e,t,n){this["_on"+t]=[],this._observerNames.push(t),this["_"+t]=e.on(n,function(){for(var e=0;e<this["_on"+t].length;e++)this["_on"+t][e]()}.bind(this))}function n(n,i){n=n||e.document,this.getElement=function(){return n},i=i||{mutated:f.mutated},this._observerNames=[],this._observers=i;for(var o in i)i.hasOwnProperty(o)&&t.call(this,i[o],o,n)}function i(e){this.getEmitter=function(){return e}}function o(e,t,n){!n&&t&&"function"!=typeof t&&!isNaN(t)&&isFinite(t)&&(n=t),n=n||s.interval;var o=new i(new i.DOMEventEmitter);return o.start(e,t,{interval:n,events:s.events}),o}function r(e){e.stop()}var s={interval:3e3,events:["change","click","dblclick","scroll","touchstart","touchend","resize","mutated"]},f={mutated:{on:function(e,t){var n=new MutationObserver(t);return n.observe(e,{childList:!0,attributes:!0,attributeOldValue:!1,characterData:!1,subtree:!0,characterDataOldValue:!1,attributeFilter:[]}),n},off:function(e){e.disconnect()}}};if(n.observers=f,n.prototype.disconnect=function(){for(var e=0;e<this._observerNames.length;e++){var t=this["_"+this._observerNames[e]];t&&this._observers[this._observerNames[e]].off(t)}},n.prototype.on=function(e,t){this._observerNames.indexOf(e)>=0?this["_on"+e].push(t):this.getElement().addEventListener(e,t,!1)},n.prototype.off=function(e,t){if(this._observerNames.indexOf(e)>=0){var n=this["_on"+e],i=n.indexOf(t);i>=0&&n.splice(i,1)}else this.getElement().removeEventListener(e,t)},i.DOMEventEmitter=n,i.prototype.start=function(e,t,n){function i(){o?(clearTimeout(o),o=null):t&&"function"==typeof t&&t(),o=setTimeout(function(){e&&"function"==typeof e&&e(),o=null},n.interval)}n=n||s,this._config=n,this._eventHandlers=this._eventHandlers||[];var o=null,r=this.getEmitter(),f=r.on||r.addListener;if(!f||"function"!=typeof f)throw"The provided event emitter does not implement on() or addListener().";f=f.bind(r);for(var a=0;a<n.events.length;a++)f(n.events[a],i);this._eventHandlers.push(i)},i.prototype.stop=function(){var e,t,n=this.getEmitter(),i=n.off||n.removeListener;if(!i||"function"!=typeof i)throw"The provided event emitter does not implement off() or removeListener().";for(i=i.bind(n),e=0;e<this._config.events.length;e++)for(t=0;t<this._eventHandlers.length;t++)i(this._config.events[e],this._eventHandlers[t])},i.setIdle=o,i.clearIdle=r,"function"==typeof define&&define.amd)define(["setidle"],i);else if("object"==typeof module&&module.exports)module.exports=i;else{if(!e)throw"Error: No browser or module system detected!";e.setIdle=o,e.clearIdle=r,e.SetIdle=i}}("undefined"!=typeof window?window:void 0);